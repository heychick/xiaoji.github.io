<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hadoop | chick</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="大数据大数据的5V特性是什么?   Volume 大体量 Variety(多样性 Velocity 时效性 Veracity 准确性 Value 大价值   hadoop特点   高可靠,高扩展,高效性,高容错,低成本   hadoop常用组件   HDFS:Hadoop分布式文件系统 MapReduce:分布式计算框架 (map芮杜思) Yarn:集群资源管理系统 Zookeeper:分布式协">
<meta property="og:type" content="article">
<meta property="og:title" content="Hadoop">
<meta property="og:url" content="114.55.64.175&#x2F;2019&#x2F;11&#x2F;Hadoop&#x2F;index.html">
<meta property="og:site_name" content="chick">
<meta property="og:description" content="大数据大数据的5V特性是什么?   Volume 大体量 Variety(多样性 Velocity 时效性 Veracity 准确性 Value 大价值   hadoop特点   高可靠,高扩展,高效性,高容错,低成本   hadoop常用组件   HDFS:Hadoop分布式文件系统 MapReduce:分布式计算框架 (map芮杜思) Yarn:集群资源管理系统 Zookeeper:分布式协">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-11-19T14:55:55.917Z">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="chick" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">chick</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="114.55.64.175"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Hadoop" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/11/Hadoop/" class="article-date">
  <time datetime="2019-11-19T03:51:03.000Z" itemprop="datePublished">2019-11-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Hadoop
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p><font face="微软雅黑" color="red" size="6">大数据</font><br>大数据的5V特性是什么?</p>
</blockquote>
<ol>
<li>Volume 大体量</li>
<li>Variety(多样性</li>
<li>Velocity 时效性</li>
<li>Veracity 准确性</li>
<li>Value 大价值</li>
</ol>
<blockquote>
<p><font size="4">hadoop特点</font></p>
</blockquote>
<ul>
<li>高可靠,高扩展,高效性,高容错,低成本</li>
</ul>
<blockquote>
<p><font size="4">hadoop常用组件</font></p>
</blockquote>
<ul>
<li>HDFS:Hadoop分布式文件系统</li>
<li>MapReduce:分布式计算框架 (map芮杜思)</li>
<li>Yarn:集群资源管理系统</li>
<li>Zookeeper:分布式协作服务</li>
</ul>
<blockquote>
<p><font face="微软雅黑" size="4">hadoop</font><br>java-1.8.0-openjdk-devel , 解压hadoop-2.7.7,并移到/usr/local/hadoop<br>查看rpm -ql  java-1.8.0-openjdk 安装路径<br>修改 /usr/local/hadoop/etc/hadoop/hadoop-env.sh</p>
</blockquote>
<ul>
<li>export JAVA_HOME=”/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.161-2.b14.el7.x86_64/jre/“</li>
<li>export HADOOP_CONF_DIR=”/usr/local/hadoop/etc/hadoop”</li>
</ul>
<blockquote>
<p>检查是否正常/usr/local/hadoop/bin/hadoop version<br>统计字段数量<br>/usr/local/hadoop/bin/hadoop jar /usr/local/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.7.jar  wordcount 源文件 目标目录(自动创建)</p>
</blockquote>
<hr>
<blockquote>
<p><font face="微软雅黑" color="00CED1" size="6">完全分布式</font></p>
</blockquote>
<ul>
<li>/usr/local/hadoop/etc/hadoop/</li>
<li>-rw-r–r– 1 1000 ftp  774 7月  19 2018 core-site.xml   核心配置文件</li>
<li>-rw-r–r– 1 1000 ftp 4263 11月 19 11:57 hadoop-env.sh  环境变量</li>
<li>-rw-r–r– 1 1000 ftp  775 7月  19 2018 hdfs-site.xml   HDFS配置文件</li>
<li>-rw-r–r– 1 1000 ftp   10 7月  19 2018 slaves                    节点配置文件</li>
</ul>
<blockquote>
<p>设置环境<br>4台主机 配置/etc/hosts<br>192.168.1.30 docker1<br>192.168.1.31 node1<br>192.168.1.32 node2<br>192.168.1.33 node3</p>
<ol>
<li>禁用selinx</li>
<li>关闭防火墙</li>
<li>配置ssh秘钥1.30设置包含自己</li>
<li>注意事项</li>
</ol>
<ul>
<li>/etc/ssh/ssh_config</li>
<li>Host *</li>
<li>GSSAPIAuthentication yes</li>
<li>StrictHostKeyChecking no  #登录时去掉yes提示,秘钥保存</li>
</ul>
</blockquote>
<blockquote>
<p><a href="http://hadoop.apache.org/docs" target="_blank" rel="noopener">hoddp官方文档</a><br>核心配置文件core-site.xml</p>
<pre><code>   &lt;configuration&gt;
          &lt;property&gt;
        &lt;name&gt;fs.defaultFS&lt;/name&gt;
        &lt;value&gt;hdfs://docker1:9000&lt;/value&gt;
          &lt;/property&gt;
     &lt;property&gt;
        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
        &lt;value&gt;/var/hadoop&lt;/value&gt;
      &lt;/property&gt;
&lt;/configuration&gt;</code></pre></blockquote>
<blockquote>
<ul>
<li>name关键字</li>
<li>value变量值</li>
<li>description描述</li>
</ul>
</blockquote>
<ol>
<li>fs.defaultFS 默认存储系统<br><font color="008000" size="2">    第一种本机写法file:/// 本机硬盘做为存储  </font><br><font color="008000" size="2"> 第二种虚拟hdfs硬盘写法hdfs://namenode主机名:9000        </font></li>
<li>hadoop.tmp.dir hadoop所有数据根目录</li>
</ol>
<blockquote>
<p>核心配置文件hdfs-site.xml</p>
</blockquote>
<p><font color="008000" size="2">    &lt;property&gt;     </font><br><font color="008000" size="2">                 &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;   </font><br><font color="008000" size="2">               &lt;value&gt;docker1:50070&lt;/value&gt;                 </font><br><font color="008000" size="2">    &lt;/property&gt;                    </font><br><font color="008000" size="2">    &lt;property&gt;                    </font><br><font color="008000" size="2">            &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;  </font><br><font color="008000" size="2">        &lt;value&gt;docker1:50090&lt;/value&gt;   </font><br><font color="008000" size="2">    &lt;/property&gt;  </font><br><font color="008000" size="2">    &lt;property&gt;  </font><br><font color="008000" size="2">               &lt;name&gt;dfs.replication&lt;/name&gt;    </font><br><font color="008000" size="2">               &lt;value&gt;2&lt;/value&gt;               </font><br><font color="008000" size="2">                            &lt;description&gt;副本数&lt;/description&gt;  </font><br><font color="008000" size="2">        &lt;/property&gt;</font></p>
<blockquote>
<p>节点配置文件</p>
</blockquote>
<ul>
<li>node1</li>
<li>node2</li>
<li>node3    </li>
</ul>
<blockquote>
<p>目录拷贝到其他机器<br><font color="008000" size="2">  for i in node{1..3};do rsync -aXSH –delete /usr/local/hadoop ${i}:/usr/local/ &amp; done  </font></p>
</blockquote>
<ol>
<li>mkdir /var/hadoop</li>
<li>初始化 /usr/local/hadoop/bin/hdfs namenode -format</li>
<li>启动集群 /usr/local/hadoop/sbin/start-dfs.sh</li>
<li>jsp验证角色(docker1会出现2个角色,node[1:3] 会出现1个datanode角色] <pre><code>jps
    7233 SecondaryNameNode
    7515 NameNode
    9115 Jps
[root@node2 ~]# jps                             
    24912 Jps                                       
    24790 DataNode </code></pre></li>
<li>/usr/local/hadoop/bin/hdfs dfsadmin -report<br>Live datanodes (3):</li>
</ol>
<hr>
<p>PS: <font size="4">排错思路</font></p>
<ol>
<li>检查/etc/hosts</li>
<li>检查jps是否安装</li>
<li>检查配置文件<pre><code>hadoop-env.sh
slaves    
core-site.xml
hdfs-site.xml</code></pre></li>
<li>检查文件是否同步了</li>
</ol>
<p>日志文件/usr/loacl/hadop/logs<br>hadoop组件-启动该进程用户-该程序的角色-哪台机器启动<br>hadoop-root-namenode-docker1.log   log 日志<br>doop-root-namenode-docker1.out     out 标准输出</p>
<hr>
<hr>
<p>ansible 脚本hadoop.yml<br>#—                                                                 </p>
<ul>
<li>hosts: hadoop<br>tasks:                                                            <ul>
<li>name: hosts<br>copy: src=/etc/hosts dest=/etc/hosts                          </li>
<li>name: yum<br>yum:<br> name: java-1.8.0-openjdk-devel<br> state: latest  </li>
</ul>
</li>
</ul>
<hr>








      
    </div>
    <footer class="article-footer">
      <a data-url="114.55.64.175/2019/11/Hadoop/" data-id="ck3612der0000i1ab2yoi75tw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2019/11/mysql/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><font color=blue>上一篇 older</font></strong>
      <div class="article-nav-title"><font color=blue>mysql</font></div>
    </a>
   
</nav>



  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/11/Hadoop/">Hadoop</a>
          </li>
        
          <li>
            <a href="/2019/11/mysql/">mysql</a>
          </li>
        
          <li>
            <a href="/2019/11/kibana/">kibana</a>
          </li>
        
          <li>
            <a href="/2019/11/about/me/">page</a>
          </li>
        
          <li>
            <a href="/2019/11/zabbix/">ansible</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 wll<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>